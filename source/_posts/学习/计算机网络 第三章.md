---
title: 计算机网络 第三章 数据链路层
categories: 计算机网络
cover: https://blog-pics.obs.cn-north-4.myhuaweicloud.com/%E8%AE%A1%E7%BD%91%E4%B8%89%E5%B0%81%E9%9D%A2.jpg
tags: 
	- 课程
---
# 第三章 数据链路层

物理层给数据链路层提供的服务是传送数字信号，这个信号有可能是恒定的比特流或字节流  

数据链路层在两个<font color=#FF6347>邻接</font>的计算机之间提供可靠的，高效率的通信（点到点）  

邻接：两个计算机之间用一个通信信道（有线或无线）连接在一起，也叫点到点。

通信信道在概念上就像一条线路（比如同轴电缆、电话线或者无线信道）。信道像一条线路的本质特性使得信道上<font color=#FF6347>传递的比特顺序与发送顺序完全相同</font>。

## 数据链路层的设计问题

数据链路层使用物理层提供的服务在通信信道上发送和接收比特。它要完成一些功能，包括：  
（1） 向网络层提供一个定义良好的服务接口。  
（2） 把比特流或字节流封装成帧。  
（3） 处理传输错误，尾部用于差错控制。  
（4） 调节数据流，确保慢速的接收方不会被快速的发送方淹没。  

**<font color=#fea401>数据链路层的功能:</font>**

* **<font color=#ff8b61>为网络层提供业务接口</font>**
  
    * **<font color=#ff8aaf>数据链路层通常会提供以下3种可能的服务：</font>**  

      * <font color=#b59bfd>无确认的无连接服务：</font>源机器向目标机器发送独立的帧，目标机器并不对这些帧进行确认  
        
        * 想发就发，不管数据有没有差错或者丢失  
        
        * 例如以太网

        * 差错率非常低，如果出错需要最高层去解决，但是越高层解决，代价就越大 
        
        * 语音传输
   
      * <font color=#b59bfd>有确认的无连接服务：</font>数据链路层仍然没有使用逻辑连接，但其发送的每一帧都需要单独确认
        
        * WiFi  
        
        * 发送方需要知道这一帧是正确到达了还是丢失了。若在特定的时间间隔内没有到达，则再发一遍
        
      * <font color=#b59bfd>有确认的有连接服务：</font>在数据链路层提供确认只是一种优化手段，永远不应该成为一种需求
      
        * 可靠性较差的长链路  
        
        * 如果在计时器超时之前，该数据包的确认还没有到来，那么发送方只要再次发送整个报文即可。这一策略的麻烦在于它可能导致传输的低效率。

* **<font color=#ff8b61>处理传输错误</font>**
  
* **<font color=#ff8b61>调节数据流</font>**

**<font color=#fea401>成帧：</font>** 

![成帧](https://blog-pics.obs.cn-north-4.myhuaweicloud.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%9B%BE%E7%89%87/1.jpg)

一个比特流（或是字节流）通过点到点链路从节点A发送到节点B。节点B必须准确地识别构成帧的比特集，也就是说，它必须确定帧的开始和结束位置，哪几个比特是一伙的

**<font color=#ff8b61>拆分比特流的4种方法：</font>**

* **<font color=#ff8aaf>字节计数法：</font>**

    ![字节计数法](https://blog-pics.obs.cn-north-4.myhuaweicloud.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%9B%BE%E7%89%87/2.png)
  
  * 面临的物理层提供的服务是字节流 
  
  * 这个算法的问题在于计数值有可能因为一个传输错误而被弄混

* **<font color=#ff8aaf>字符填充法：</font>** 

    ![字符填充法](https://blog-pics.obs.cn-north-4.myhuaweicloud.com/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC%E4%B8%89%E7%AB%A0%E5%9B%BE%E7%89%87/3.png)

  * 每个帧用一些特殊的字节作为开始和结束。这些特殊字节通常都相同，称为标志字节，作为帧的起始和结束分界符
  
  * 浪费了带宽
  
  * 出现误码时可以直接恢复

* **<font color=#ff8aaf>比特填充法：</font>**

  * 每个帧的开始和结束由一个特殊的比特模式，01111110标记，同时在数据当中每出现5个1，后面就插入1个0 
  
  * 接收方读取到连续5个1后的0，会直接丢弃

* **<font color=#ff8aaf>物理层编码违禁法：</font>**